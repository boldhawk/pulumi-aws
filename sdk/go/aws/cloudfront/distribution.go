// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package cloudfront

import (
	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// Creates an Amazon CloudFront web distribution.
// 
// For information about CloudFront distributions, see the
// [Amazon CloudFront Developer Guide][1]. For specific information about creating
// CloudFront web distributions, see the [POST Distribution][2] page in the Amazon
// CloudFront API Reference.
// 
// > **NOTE:** CloudFront distributions take about 15 minutes to a deployed state
// after creation or modification. During this time, deletes to resources will be
// blocked. If you need to delete a distribution that is enabled and you do not
// want to wait, you need to use the `retainOnDelete` flag.
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-aws/blob/master/website/docs/r/cloudfront_distribution.html.markdown.
type Distribution struct {
	// URN is this resource's unique name assigned by Pulumi.
	URN pulumi.URNOutput `pulumi:"urn"`

	// ID is this resource's unique identifier assigned by its provider.
	ID pulumi.IDOutput `pulumi:"id"`

	// The key pair IDs that CloudFront is aware of for
	// each trusted signer, if the distribution is set up to serve private content
	// with signed URLs.
	ActiveTrustedSigners pulumi.MapOutput `pulumi:"activeTrustedSigners"`

	// Extra CNAMEs (alternate domain names), if any, for
	// this distribution.
	Aliases pulumi.ArrayOutput `pulumi:"aliases"`

	// The ARN (Amazon Resource Name) for the distribution. For example: arn:aws:cloudfront::123456789012:distribution/EDFDVBD632BHDS5, where 123456789012 is your AWS account ID.
	Arn pulumi.StringOutput `pulumi:"arn"`

	// Internal value used by CloudFront to allow future
	// updates to the distribution configuration.
	CallerReference pulumi.StringOutput `pulumi:"callerReference"`

	// Any comments you want to include about the
	// distribution.
	Comment pulumi.StringOutput `pulumi:"comment"`

	// One or more custom error response elements (multiples allowed).
	CustomErrorResponses pulumi.ArrayOutput `pulumi:"customErrorResponses"`

	// The default cache behavior for this distribution (maximum
	// one).
	DefaultCacheBehavior pulumi.AnyOutput `pulumi:"defaultCacheBehavior"`

	// The object that you want CloudFront to
	// return (for example, index.html) when an end user requests the root URL.
	DefaultRootObject pulumi.StringOutput `pulumi:"defaultRootObject"`

	// The DNS domain name of either the S3 bucket, or
	// web site of your custom origin.
	DomainName pulumi.StringOutput `pulumi:"domainName"`

	// Whether the distribution is enabled to accept end
	// user requests for content.
	Enabled pulumi.BoolOutput `pulumi:"enabled"`

	// The current version of the distribution's information. For example:
	// `E2QWRUHAPOMQZL`.
	Etag pulumi.StringOutput `pulumi:"etag"`

	// The CloudFront Route 53 zone ID that can be used to
	// route an [Alias Resource Record Set][7] to. This attribute is simply an
	// alias for the zone ID `Z2FDTNDATAQYW2`.
	HostedZoneId pulumi.StringOutput `pulumi:"hostedZoneId"`

	// The maximum HTTP version to support on the
	// distribution. Allowed values are `http1.1` and `http2`. The default is
	// `http2`.
	HttpVersion pulumi.StringOutput `pulumi:"httpVersion"`

	// The number of invalidation batches
	// currently in progress.
	InProgressValidationBatches pulumi.IntOutput `pulumi:"inProgressValidationBatches"`

	// Whether the IPv6 is enabled for the distribution.
	IsIpv6Enabled pulumi.BoolOutput `pulumi:"isIpv6Enabled"`

	// The date and time the distribution was last modified.
	LastModifiedTime pulumi.StringOutput `pulumi:"lastModifiedTime"`

	// The logging
	// configuration that controls how logs are written
	// to your distribution (maximum one).
	LoggingConfig pulumi.AnyOutput `pulumi:"loggingConfig"`

	// An ordered list of cache behaviors
	// resource for this distribution. List from top to bottom
	// in order of precedence. The topmost cache behavior will have precedence 0.
	OrderedCacheBehaviors pulumi.ArrayOutput `pulumi:"orderedCacheBehaviors"`

	// One or more origins for this
	// distribution (multiples allowed).
	Origins pulumi.ArrayOutput `pulumi:"origins"`

	// One or more originGroup for this
	// distribution (multiples allowed).
	OriginGroups pulumi.ArrayOutput `pulumi:"originGroups"`

	// The price class for this distribution. One of
	// `PriceClass_All`, `PriceClass_200`, `PriceClass_100`
	PriceClass pulumi.StringOutput `pulumi:"priceClass"`

	// The restriction
	// configuration for this distribution (maximum one).
	Restrictions pulumi.AnyOutput `pulumi:"restrictions"`

	// Disables the distribution instead of
	// deleting it when destroying the resource. If this is set,
	// the distribution needs to be deleted manually afterwards. Default: `false`.
	RetainOnDelete pulumi.BoolOutput `pulumi:"retainOnDelete"`

	// The current status of the distribution. `Deployed` if the
	// distribution's information is fully propagated throughout the Amazon
	// CloudFront system.
	Status pulumi.StringOutput `pulumi:"status"`

	// A mapping of tags to assign to the resource.
	Tags pulumi.MapOutput `pulumi:"tags"`

	// The SSL
	// configuration for this distribution (maximum
	// one).
	ViewerCertificate pulumi.AnyOutput `pulumi:"viewerCertificate"`

	// If enabled, the resource will wait for
	// the distribution status to change from `InProgress` to `Deployed`. Setting
	// this to`false` will skip the process. Default: `true`.
	WaitForDeployment pulumi.BoolOutput `pulumi:"waitForDeployment"`

	// If you're using AWS WAF to filter CloudFront
	// requests, the Id of the AWS WAF web ACL that is associated with the
	// distribution. The WAF Web ACL must exist in the WAF Global (CloudFront)
	// region and the credentials configuring this argument must have
	// `waf:GetWebACL` permissions assigned.
	WebAclId pulumi.StringOutput `pulumi:"webAclId"`
}

// NewDistribution registers a new resource with the given unique name, arguments, and options.
func NewDistribution(ctx *pulumi.Context,
	name string, args *DistributionArgs, opts ...pulumi.ResourceOpt) (*Distribution, error) {
	if args == nil || args.DefaultCacheBehavior == nil {
		return nil, errors.New("missing required argument 'DefaultCacheBehavior'")
	}
	if args == nil || args.Enabled == nil {
		return nil, errors.New("missing required argument 'Enabled'")
	}
	if args == nil || args.Origins == nil {
		return nil, errors.New("missing required argument 'Origins'")
	}
	if args == nil || args.Restrictions == nil {
		return nil, errors.New("missing required argument 'Restrictions'")
	}
	if args == nil || args.ViewerCertificate == nil {
		return nil, errors.New("missing required argument 'ViewerCertificate'")
	}
	inputs := map[string]pulumi.Input{}
	if args != nil {
		inputs["aliases"] = args.Aliases
		inputs["comment"] = args.Comment
		inputs["customErrorResponses"] = args.CustomErrorResponses
		inputs["defaultCacheBehavior"] = args.DefaultCacheBehavior
		inputs["defaultRootObject"] = args.DefaultRootObject
		inputs["enabled"] = args.Enabled
		inputs["httpVersion"] = args.HttpVersion
		inputs["isIpv6Enabled"] = args.IsIpv6Enabled
		inputs["loggingConfig"] = args.LoggingConfig
		inputs["orderedCacheBehaviors"] = args.OrderedCacheBehaviors
		inputs["origins"] = args.Origins
		inputs["originGroups"] = args.OriginGroups
		inputs["priceClass"] = args.PriceClass
		inputs["restrictions"] = args.Restrictions
		inputs["retainOnDelete"] = args.RetainOnDelete
		inputs["tags"] = args.Tags
		inputs["viewerCertificate"] = args.ViewerCertificate
		inputs["waitForDeployment"] = args.WaitForDeployment
		inputs["webAclId"] = args.WebAclId
	}
	var resource Distribution
	err := ctx.RegisterResource("aws:cloudfront/distribution:Distribution", name, inputs, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDistribution gets an existing Distribution resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDistribution(ctx *pulumi.Context,
	name string, id pulumi.ID, state *DistributionState, opts ...pulumi.ResourceOpt) (*Distribution, error) {
	inputs := map[string]pulumi.Input{}
	if state != nil {
		inputs["activeTrustedSigners"] = state.ActiveTrustedSigners
		inputs["aliases"] = state.Aliases
		inputs["arn"] = state.Arn
		inputs["callerReference"] = state.CallerReference
		inputs["comment"] = state.Comment
		inputs["customErrorResponses"] = state.CustomErrorResponses
		inputs["defaultCacheBehavior"] = state.DefaultCacheBehavior
		inputs["defaultRootObject"] = state.DefaultRootObject
		inputs["domainName"] = state.DomainName
		inputs["enabled"] = state.Enabled
		inputs["etag"] = state.Etag
		inputs["hostedZoneId"] = state.HostedZoneId
		inputs["httpVersion"] = state.HttpVersion
		inputs["inProgressValidationBatches"] = state.InProgressValidationBatches
		inputs["isIpv6Enabled"] = state.IsIpv6Enabled
		inputs["lastModifiedTime"] = state.LastModifiedTime
		inputs["loggingConfig"] = state.LoggingConfig
		inputs["orderedCacheBehaviors"] = state.OrderedCacheBehaviors
		inputs["origins"] = state.Origins
		inputs["originGroups"] = state.OriginGroups
		inputs["priceClass"] = state.PriceClass
		inputs["restrictions"] = state.Restrictions
		inputs["retainOnDelete"] = state.RetainOnDelete
		inputs["status"] = state.Status
		inputs["tags"] = state.Tags
		inputs["viewerCertificate"] = state.ViewerCertificate
		inputs["waitForDeployment"] = state.WaitForDeployment
		inputs["webAclId"] = state.WebAclId
	}
	var resource Distribution
	err := ctx.ReadResource("aws:cloudfront/distribution:Distribution", name, id, inputs, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetURN returns this resource's unique name assigned by Pulumi.
func (r *Distribution) GetURN() pulumi.URNOutput {
	return r.URN
}

// GetID returns this resource's unique identifier assigned by its provider.
func (r *Distribution) GetID() pulumi.IDOutput {
	return r.ID
}
// Input properties used for looking up and filtering Distribution resources.
type DistributionState struct {
	// The key pair IDs that CloudFront is aware of for
	// each trusted signer, if the distribution is set up to serve private content
	// with signed URLs.
	ActiveTrustedSigners pulumi.MapInput `pulumi:"activeTrustedSigners"`
	// Extra CNAMEs (alternate domain names), if any, for
	// this distribution.
	Aliases pulumi.ArrayInput `pulumi:"aliases"`
	// The ARN (Amazon Resource Name) for the distribution. For example: arn:aws:cloudfront::123456789012:distribution/EDFDVBD632BHDS5, where 123456789012 is your AWS account ID.
	Arn pulumi.StringInput `pulumi:"arn"`
	// Internal value used by CloudFront to allow future
	// updates to the distribution configuration.
	CallerReference pulumi.StringInput `pulumi:"callerReference"`
	// Any comments you want to include about the
	// distribution.
	Comment pulumi.StringInput `pulumi:"comment"`
	// One or more custom error response elements (multiples allowed).
	CustomErrorResponses pulumi.ArrayInput `pulumi:"customErrorResponses"`
	// The default cache behavior for this distribution (maximum
	// one).
	DefaultCacheBehavior pulumi.AnyInput `pulumi:"defaultCacheBehavior"`
	// The object that you want CloudFront to
	// return (for example, index.html) when an end user requests the root URL.
	DefaultRootObject pulumi.StringInput `pulumi:"defaultRootObject"`
	// The DNS domain name of either the S3 bucket, or
	// web site of your custom origin.
	DomainName pulumi.StringInput `pulumi:"domainName"`
	// Whether the distribution is enabled to accept end
	// user requests for content.
	Enabled pulumi.BoolInput `pulumi:"enabled"`
	// The current version of the distribution's information. For example:
	// `E2QWRUHAPOMQZL`.
	Etag pulumi.StringInput `pulumi:"etag"`
	// The CloudFront Route 53 zone ID that can be used to
	// route an [Alias Resource Record Set][7] to. This attribute is simply an
	// alias for the zone ID `Z2FDTNDATAQYW2`.
	HostedZoneId pulumi.StringInput `pulumi:"hostedZoneId"`
	// The maximum HTTP version to support on the
	// distribution. Allowed values are `http1.1` and `http2`. The default is
	// `http2`.
	HttpVersion pulumi.StringInput `pulumi:"httpVersion"`
	// The number of invalidation batches
	// currently in progress.
	InProgressValidationBatches pulumi.IntInput `pulumi:"inProgressValidationBatches"`
	// Whether the IPv6 is enabled for the distribution.
	IsIpv6Enabled pulumi.BoolInput `pulumi:"isIpv6Enabled"`
	// The date and time the distribution was last modified.
	LastModifiedTime pulumi.StringInput `pulumi:"lastModifiedTime"`
	// The logging
	// configuration that controls how logs are written
	// to your distribution (maximum one).
	LoggingConfig pulumi.AnyInput `pulumi:"loggingConfig"`
	// An ordered list of cache behaviors
	// resource for this distribution. List from top to bottom
	// in order of precedence. The topmost cache behavior will have precedence 0.
	OrderedCacheBehaviors pulumi.ArrayInput `pulumi:"orderedCacheBehaviors"`
	// One or more origins for this
	// distribution (multiples allowed).
	Origins pulumi.ArrayInput `pulumi:"origins"`
	// One or more originGroup for this
	// distribution (multiples allowed).
	OriginGroups pulumi.ArrayInput `pulumi:"originGroups"`
	// The price class for this distribution. One of
	// `PriceClass_All`, `PriceClass_200`, `PriceClass_100`
	PriceClass pulumi.StringInput `pulumi:"priceClass"`
	// The restriction
	// configuration for this distribution (maximum one).
	Restrictions pulumi.AnyInput `pulumi:"restrictions"`
	// Disables the distribution instead of
	// deleting it when destroying the resource. If this is set,
	// the distribution needs to be deleted manually afterwards. Default: `false`.
	RetainOnDelete pulumi.BoolInput `pulumi:"retainOnDelete"`
	// The current status of the distribution. `Deployed` if the
	// distribution's information is fully propagated throughout the Amazon
	// CloudFront system.
	Status pulumi.StringInput `pulumi:"status"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.MapInput `pulumi:"tags"`
	// The SSL
	// configuration for this distribution (maximum
	// one).
	ViewerCertificate pulumi.AnyInput `pulumi:"viewerCertificate"`
	// If enabled, the resource will wait for
	// the distribution status to change from `InProgress` to `Deployed`. Setting
	// this to`false` will skip the process. Default: `true`.
	WaitForDeployment pulumi.BoolInput `pulumi:"waitForDeployment"`
	// If you're using AWS WAF to filter CloudFront
	// requests, the Id of the AWS WAF web ACL that is associated with the
	// distribution. The WAF Web ACL must exist in the WAF Global (CloudFront)
	// region and the credentials configuring this argument must have
	// `waf:GetWebACL` permissions assigned.
	WebAclId pulumi.StringInput `pulumi:"webAclId"`
}

// The set of arguments for constructing a Distribution resource.
type DistributionArgs struct {
	// Extra CNAMEs (alternate domain names), if any, for
	// this distribution.
	Aliases pulumi.ArrayInput `pulumi:"aliases"`
	// Any comments you want to include about the
	// distribution.
	Comment pulumi.StringInput `pulumi:"comment"`
	// One or more custom error response elements (multiples allowed).
	CustomErrorResponses pulumi.ArrayInput `pulumi:"customErrorResponses"`
	// The default cache behavior for this distribution (maximum
	// one).
	DefaultCacheBehavior pulumi.AnyInput `pulumi:"defaultCacheBehavior"`
	// The object that you want CloudFront to
	// return (for example, index.html) when an end user requests the root URL.
	DefaultRootObject pulumi.StringInput `pulumi:"defaultRootObject"`
	// Whether the distribution is enabled to accept end
	// user requests for content.
	Enabled pulumi.BoolInput `pulumi:"enabled"`
	// The maximum HTTP version to support on the
	// distribution. Allowed values are `http1.1` and `http2`. The default is
	// `http2`.
	HttpVersion pulumi.StringInput `pulumi:"httpVersion"`
	// Whether the IPv6 is enabled for the distribution.
	IsIpv6Enabled pulumi.BoolInput `pulumi:"isIpv6Enabled"`
	// The logging
	// configuration that controls how logs are written
	// to your distribution (maximum one).
	LoggingConfig pulumi.AnyInput `pulumi:"loggingConfig"`
	// An ordered list of cache behaviors
	// resource for this distribution. List from top to bottom
	// in order of precedence. The topmost cache behavior will have precedence 0.
	OrderedCacheBehaviors pulumi.ArrayInput `pulumi:"orderedCacheBehaviors"`
	// One or more origins for this
	// distribution (multiples allowed).
	Origins pulumi.ArrayInput `pulumi:"origins"`
	// One or more originGroup for this
	// distribution (multiples allowed).
	OriginGroups pulumi.ArrayInput `pulumi:"originGroups"`
	// The price class for this distribution. One of
	// `PriceClass_All`, `PriceClass_200`, `PriceClass_100`
	PriceClass pulumi.StringInput `pulumi:"priceClass"`
	// The restriction
	// configuration for this distribution (maximum one).
	Restrictions pulumi.AnyInput `pulumi:"restrictions"`
	// Disables the distribution instead of
	// deleting it when destroying the resource. If this is set,
	// the distribution needs to be deleted manually afterwards. Default: `false`.
	RetainOnDelete pulumi.BoolInput `pulumi:"retainOnDelete"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.MapInput `pulumi:"tags"`
	// The SSL
	// configuration for this distribution (maximum
	// one).
	ViewerCertificate pulumi.AnyInput `pulumi:"viewerCertificate"`
	// If enabled, the resource will wait for
	// the distribution status to change from `InProgress` to `Deployed`. Setting
	// this to`false` will skip the process. Default: `true`.
	WaitForDeployment pulumi.BoolInput `pulumi:"waitForDeployment"`
	// If you're using AWS WAF to filter CloudFront
	// requests, the Id of the AWS WAF web ACL that is associated with the
	// distribution. The WAF Web ACL must exist in the WAF Global (CloudFront)
	// region and the credentials configuring this argument must have
	// `waf:GetWebACL` permissions assigned.
	WebAclId pulumi.StringInput `pulumi:"webAclId"`
}
